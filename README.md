# 🎯 CDC Playwright Locator

![Playwright Tests](https://github.com/suprimaaldino/cdcplaywrightlocator/actions/workflows/playwright.yml/badge.svg)

📊 [**View Latest Allure Report**](https://suprimaaldino.github.io/cdcplaywrightlocator/)

---

> 🚀 **Automated testing pipeline** using [Playwright](https://playwright.dev/) with:
>
> * ✅ Parallel test execution using matrix sharding
> * 📈 Allure reporting for rich test insights
> * 🌐 Auto-deployed test reports to GitHub Pages
> * 🔔 Telegram notifications on CI results

---

## 📦 Tech Stack

* **Framework**: Playwright
* **Reporting**: Allure
* **CI/CD**: GitHub Actions
* **Notification**: Telegram Bot
* **Browsers Tested**:

  * Desktop: Chromium, Firefox, Edge, Safari
  * Mobile: Chrome, Safari

---

## 📂 Folder Structure

```
├── allure-report/              # ⛔ Auto-generated Allure HTML reports (gitignored)
├── allure-results/             # 📊 Raw test results used to generate Allure reports (gitignored)
├── downloads/                  # 📥 Downloaded files during test execution
├── node_modules/               # 📦 Project dependencies (auto-generated by npm/yarn)
├── pages/                      # 🧱 Page Object Models (POM) for web pages and components
├── playwright-report/          # 📋 Playwright's built-in HTML report output
├── test-results/               # 🎥 Traces, screenshots, and videos generated by Playwright tests
├── tests/                      # 🧪 Test specification files (spec.ts) for various features
├── uploads/                    # 📂 Sample files used for upload-related tests
├── utils/                      # 🔧 Utility files, data fixtures, and helper functions
├── .gitignore                  # 📄 File patterns to exclude from git tracking
├── package-lock.json           # 🔐 Auto-generated lockfile for dependency resolution
├── package.json                # 📦 Project metadata, dependencies, and scripts
├── playwright.config.ts        # ⚙️ Main configuration for Playwright test execution
└── README.md                   # 📝 Project overview, setup instructions, and usage guide
```

---

## 🚀 Run Locally

```bash
# Install dependencies
npm ci

# Install Playwright browsers
npx playwright install --with-deps

# Run all tests and generate + open Allure report
npm run test:report
```

To clean up reports:

```bash
npm run remove:allure
```

---

## 🛠 Scripts

| Script          | Description                        |
| --------------- | ---------------------------------- |
| `test`          | Run all tests                      |
| `test:ci`       | CI-friendly test output            |
| `headed`        | Run tests with browser visible     |
| `debug`         | Debug with Playwright inspector    |
| `remove:allure` | Delete Allure results/reports      |
| `allure:report` | Generate Allure report             |
| `allure:open`   | Open Allure report locally         |
| `test:report`   | Run tests + generate + open report |

---

## 📢 CI Features

* ✅ Runs on every push & pull request to `main`
* 🕗 Scheduled daily runs at 08:00 UTC
* 🧹 Splits test runs into 3 shards for faster results
* 📆 Uploads Allure artifacts automatically
* 🧬 Merges results into a unified Allure repor
* 🖥️ Publishes Allure report to GitHub Pages
* 🧯 Rollback logic restores previous report if tests fail
* 📝 Auto-generates CHANGELOG.md on updates to `main`
* 📬 Sends Telegram notification upon completion

---

