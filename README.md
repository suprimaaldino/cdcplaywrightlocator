# ğŸ¯ CDC Playwright Locator

![Playwright Tests](https://github.com/suprimaaldino/cdcplaywrightlocator/actions/workflows/playwright.yml/badge.svg)

ğŸ“Š [**View Latest Allure Report**](https://suprimaaldino.github.io/cdcplaywrightlocator/)

---

> ğŸš€ **Automated testing pipeline** using [Playwright](https://playwright.dev/) with:
>
> * âœ… Parallel test execution using matrix sharding
> * ğŸ“ˆ Allure reporting for rich test insights
> * ğŸŒ Auto-deployed test reports to GitHub Pages
> * ğŸ”” Telegram notifications on CI results

---

## ğŸ“¦ Tech Stack

* **Framework**: Playwright
* **Reporting**: Allure
* **CI/CD**: GitHub Actions
* **Notification**: Telegram Bot
* **Browsers Tested**:

  * Desktop: Chromium, Firefox, Edge, Safari
  * Mobile: Chrome, Safari

---

## ğŸ“‚ Folder Structure

```
â”œâ”€â”€ allure-report/              # â›” Auto-generated Allure HTML reports (gitignored)
â”œâ”€â”€ allure-results/             # ğŸ“Š Raw test results used to generate Allure reports (gitignored)
â”œâ”€â”€ downloads/                  # ğŸ“¥ Downloaded files during test execution
â”œâ”€â”€ node_modules/               # ğŸ“¦ Project dependencies (auto-generated by npm/yarn)
â”œâ”€â”€ pages/                      # ğŸ§± Page Object Models (POM) for web pages and components
â”œâ”€â”€ playwright-report/          # ğŸ“‹ Playwright's built-in HTML report output
â”œâ”€â”€ test-results/               # ğŸ¥ Traces, screenshots, and videos generated by Playwright tests
â”œâ”€â”€ tests/                      # ğŸ§ª Test specification files (spec.ts) for various features
â”œâ”€â”€ uploads/                    # ğŸ“‚ Sample files used for upload-related tests
â”œâ”€â”€ utils/                      # ğŸ”§ Utility files, data fixtures, and helper functions
â”œâ”€â”€ .gitignore                  # ğŸ“„ File patterns to exclude from git tracking
â”œâ”€â”€ package-lock.json           # ğŸ” Auto-generated lockfile for dependency resolution
â”œâ”€â”€ package.json                # ğŸ“¦ Project metadata, dependencies, and scripts
â”œâ”€â”€ playwright.config.ts        # âš™ï¸ Main configuration for Playwright test execution
â””â”€â”€ README.md                   # ğŸ“ Project overview, setup instructions, and usage guide
```

---

## ğŸš€ Run Locally

```bash
# Install dependencies
npm ci

# Install Playwright browsers
npx playwright install --with-deps

# Run all tests and generate + open Allure report
npm run test:report
```

To clean up reports:

```bash
npm run remove:allure
```

---

## ğŸ›  Scripts

| Script          | Description                        |
| --------------- | ---------------------------------- |
| `test`          | Run all tests                      |
| `test:ci`       | CI-friendly test output            |
| `headed`        | Run tests with browser visible     |
| `debug`         | Debug with Playwright inspector    |
| `remove:allure` | Delete Allure results/reports      |
| `allure:report` | Generate Allure report             |
| `allure:open`   | Open Allure report locally         |
| `test:report`   | Run tests + generate + open report |

---

## ğŸ“¢ CI Features

* âœ… Runs on every push & pull request to `main`
* ğŸ•— Scheduled daily runs at 08:00 UTC
* ğŸ§¹ Splits test runs into 3 shards for faster results
* ğŸ“† Uploads Allure artifacts automatically
* ğŸ§¬ Merges results into a unified Allure repor
* ğŸ–¥ï¸ Publishes Allure report to GitHub Pages
* ğŸ§¯ Rollback logic restores previous report if tests fail
* ğŸ“ Auto-generates CHANGELOG.md on updates to `main`
* ğŸ“¬ Sends Telegram notification upon completion

---

